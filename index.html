<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Our Journey</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Lato:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Title Screen -->
  <div id="title-screen" class="screen active">
    <div class="title-content">
      <div class="hearts-container">
        <span class="heart">&#10084;</span>
        <span class="heart">&#10084;</span>
        <span class="heart">&#10084;</span>
      </div>
      <h1>Our Journey</h1>
      <p class="subtitle">A love story across continents</p>
      <button id="start-btn" class="btn-primary">Begin</button>
    </div>
  </div>

  <!-- Map Screen -->
  <div id="map-screen" class="screen">
    <div class="map-header">
      <h2>Our Journey</h2>
      <button id="music-toggle" class="music-btn" aria-label="Toggle music">
        <span class="music-on">&#9834;</span>
        <span class="music-off" style="display:none;">&#9834;</span>
      </button>
    </div>

    <div class="map-container">
      <svg id="journey-map" viewBox="0 0 800 500" preserveAspectRatio="xMidYMid meet">
        <!-- Stylized map background -->
        <defs>
          <linearGradient id="ocean" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#e8f4f8"/>
            <stop offset="100%" style="stop-color:#d4e9ed"/>
          </linearGradient>
          <linearGradient id="land" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#f5e6d3"/>
            <stop offset="100%" style="stop-color:#e8d5c4"/>
          </linearGradient>
          <filter id="glow">
            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>

        <!-- Ocean background -->
        <rect width="800" height="500" fill="url(#ocean)"/>

        <!-- Europe landmass (simplified) -->
        <path d="M 350 80 Q 420 60 500 80 Q 560 100 580 150 Q 600 200 580 250 Q 550 300 500 320 Q 450 340 400 320 Q 350 300 320 250 Q 300 200 320 150 Q 340 100 350 80"
              fill="url(#land)" stroke="#d4c4b0" stroke-width="2"/>

        <!-- Switzerland area -->
        <ellipse cx="440" cy="180" rx="30" ry="20" fill="#e0d0c0" opacity="0.5"/>

        <!-- Italy boot -->
        <path d="M 460 220 Q 470 260 465 300 Q 460 320 450 340 L 445 335 Q 455 310 458 280 Q 460 250 455 220"
              fill="url(#land)" stroke="#d4c4b0" stroke-width="1"/>

        <!-- Spain -->
        <path d="M 280 180 Q 320 160 360 180 Q 380 200 370 240 Q 350 270 310 270 Q 270 260 260 230 Q 250 200 280 180"
              fill="url(#land)" stroke="#d4c4b0" stroke-width="2"/>

        <!-- USA landmass -->
        <path d="M 50 120 Q 100 100 180 110 Q 220 120 240 160 Q 250 200 230 240 Q 200 280 150 280 Q 100 270 70 240 Q 40 200 50 160 Q 50 140 50 120"
              fill="url(#land)" stroke="#d4c4b0" stroke-width="2"/>

        <!-- Journey path (dashed line connecting locations) -->
        <path id="journey-path"
              d="M 320 200 Q 340 220 350 240 Q 380 200 440 180 Q 460 200 470 260 Q 460 220 440 180 Q 400 150 200 180 Q 120 160 100 180"
              fill="none" stroke="#e8a0a0" stroke-width="2" stroke-dasharray="8,4" opacity="0.6"/>

        <!-- Location markers -->
        <g id="locations">
          <!-- 1. Madrid -->
          <g class="location" data-location="1" transform="translate(320, 200)">
            <circle class="marker-bg" r="18" fill="#fff" opacity="0.9"/>
            <circle class="marker" r="12" fill="#e57373"/>
            <text class="marker-number" y="5" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">1</text>
            <circle class="marker-pulse" r="12" fill="none" stroke="#e57373" stroke-width="2"/>
          </g>

          <!-- 2. Granada -->
          <g class="location locked" data-location="2" transform="translate(350, 240)">
            <circle class="marker-bg" r="18" fill="#fff" opacity="0.9"/>
            <circle class="marker" r="12" fill="#ccc"/>
            <text class="marker-number" y="5" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">2</text>
            <circle class="marker-pulse" r="12" fill="none" stroke="#e57373" stroke-width="2" opacity="0"/>
          </g>

          <!-- 3. USA Surprise -->
          <g class="location locked" data-location="3" transform="translate(140, 180)">
            <circle class="marker-bg" r="18" fill="#fff" opacity="0.9"/>
            <circle class="marker" r="12" fill="#ccc"/>
            <text class="marker-number" y="5" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">3</text>
            <circle class="marker-pulse" r="12" fill="none" stroke="#e57373" stroke-width="2" opacity="0"/>
          </g>

          <!-- 4. Switzerland -->
          <g class="location locked" data-location="4" transform="translate(440, 170)">
            <circle class="marker-bg" r="18" fill="#fff" opacity="0.9"/>
            <circle class="marker" r="12" fill="#ccc"/>
            <text class="marker-number" y="5" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">4</text>
            <circle class="marker-pulse" r="12" fill="none" stroke="#e57373" stroke-width="2" opacity="0"/>
          </g>

          <!-- 5. Dog (Switzerland) -->
          <g class="location locked" data-location="5" transform="translate(455, 190)">
            <circle class="marker-bg" r="18" fill="#fff" opacity="0.9"/>
            <circle class="marker" r="12" fill="#ccc"/>
            <text class="marker-number" y="5" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">5</text>
            <circle class="marker-pulse" r="12" fill="none" stroke="#e57373" stroke-width="2" opacity="0"/>
          </g>

          <!-- 6. Rome -->
          <g class="location locked" data-location="6" transform="translate(470, 260)">
            <circle class="marker-bg" r="18" fill="#fff" opacity="0.9"/>
            <circle class="marker" r="12" fill="#ccc"/>
            <text class="marker-number" y="5" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">6</text>
            <circle class="marker-pulse" r="12" fill="none" stroke="#e57373" stroke-width="2" opacity="0"/>
          </g>

          <!-- 7. Wedding (Pignora) -->
          <g class="location locked" data-location="7" transform="translate(445, 205)">
            <circle class="marker-bg" r="18" fill="#fff" opacity="0.9"/>
            <circle class="marker" r="12" fill="#ccc"/>
            <text class="marker-number" y="5" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">7</text>
            <circle class="marker-pulse" r="12" fill="none" stroke="#e57373" stroke-width="2" opacity="0"/>
          </g>

          <!-- 8. Seattle -->
          <g class="location locked" data-location="8" transform="translate(100, 140)">
            <circle class="marker-bg" r="18" fill="#fff" opacity="0.9"/>
            <circle class="marker" r="12" fill="#ccc"/>
            <text class="marker-number" y="5" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">8</text>
            <circle class="marker-pulse" r="12" fill="none" stroke="#e57373" stroke-width="2" opacity="0"/>
          </g>
        </g>

        <!-- Location labels -->
        <g id="labels" class="location-labels">
          <text x="320" y="230" class="label" data-location="1">Madrid</text>
          <text x="350" y="270" class="label" data-location="2">Granada</text>
          <text x="140" y="210" class="label" data-location="3">USA</text>
          <text x="440" y="155" class="label" data-location="4">Switzerland</text>
          <text x="455" y="220" class="label" data-location="5">Our pup!</text>
          <text x="470" y="290" class="label" data-location="6">Rome</text>
          <text x="445" y="235" class="label" data-location="7">Pignora</text>
          <text x="100" y="125" class="label" data-location="8">Seattle</text>
        </g>
      </svg>
    </div>

    <div class="map-footer">
      <p class="hint">Tap a location to relive the memory</p>
    </div>
  </div>

  <!-- Location Modal -->
  <div id="location-modal" class="modal">
    <div class="modal-content">
      <button class="close-btn" aria-label="Close">&times;</button>

      <div class="modal-header">
        <h3 id="modal-title">Location Name</h3>
        <p id="modal-date" class="date"></p>
      </div>

      <div class="photo-gallery">
        <div id="photo-container" class="photo-container">
          <!-- Photos will be inserted here -->
        </div>
        <div class="gallery-nav">
          <button id="prev-photo" class="nav-btn" aria-label="Previous photo">&#8249;</button>
          <div id="photo-dots" class="photo-dots"></div>
          <button id="next-photo" class="nav-btn" aria-label="Next photo">&#8250;</button>
        </div>
      </div>

      <p id="modal-caption" class="caption"></p>

      <button id="continue-btn" class="btn-primary">Continue Journey</button>
    </div>
  </div>

  <!-- Finale Screen -->
  <div id="finale-screen" class="screen">
    <div class="finale-content">
      <div class="hearts-burst">
        <span class="heart burst-1">&#10084;</span>
        <span class="heart burst-2">&#10084;</span>
        <span class="heart burst-3">&#10084;</span>
        <span class="heart burst-4">&#10084;</span>
        <span class="heart burst-5">&#10084;</span>
      </div>
      <h2>Happy Valentine's Day</h2>
      <p id="finale-message" class="finale-message">
        <!-- Your personal message will go here -->
        From Madrid to Seattle, every step of this journey has been an adventure because I've had you by my side. Here's to all the chapters yet to come.
      </p>
      <p class="signature">With all my love,<br><span id="signature-name">Forever yours</span></p>
      <button id="restart-btn" class="btn-secondary">Relive Our Journey</button>
    </div>
  </div>

  <!-- Background music (will be added) -->
  <audio id="bg-music" loop>
    <source src="assets/music/background.mp3" type="audio/mpeg">
  </audio>

  <script src="game.js"></script>
</body>
</html>
